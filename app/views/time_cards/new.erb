<h1>タイムカード</h1>

    <p><%= "#{date_in_japanese}" %></p>
    <p>現在時刻：<span id="RealtimeClockArea2"></span></p>
    <p>現在状況</p>

    <%= form_with(model: @time_card, remote: true) do |form| %>
      <%= form.submit('出社', name: 'in', disabled: !!@time_card.in_at, class: 'btn btn-default') %>
      <%#= submit_tag('退社', name: 'out', disabled: !@time_card.in_at || !!@time_card.out_at, class: 'btn btn-default') %>
      <%= link_to '退社', new_work_result_path(time_card_id: @time_card.id) %>
      <%= link_to '勤務表確認', time_cards_path %>
<% end %>
<script>
function set2fig(num) {
   // 桁数が1桁だったら先頭に0を加えて2桁に調整する
   var ret;
   if( num < 10 ) { ret = "0" + num; }
   else { ret = num; }
   return ret;
}
function showClock2() {
   var nowTime = new Date();
   var nowHour = set2fig( nowTime.getHours() );
   var nowMin  = set2fig( nowTime.getMinutes() );
   var nowSec  = set2fig( nowTime.getSeconds() );
   var msg =  nowHour + ":" + nowMin + ":" + nowSec;
   document.getElementById("RealtimeClockArea2").innerHTML = msg;
}
setInterval('showClock2()',1000);
</script>
